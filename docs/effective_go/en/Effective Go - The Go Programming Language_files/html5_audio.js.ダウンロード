(function($,window,undefined){$(function($){$(".sentenceAudioIcon, .contentAudioIcon, .contentTopAudioIcon, .contentBodyAudioIcon, .chromeExtensionAudioIcon, .adobeExtensionAudioIcon, .smpAudioIcon").live("click",function(){$(this).children("audio")[0].play()});$("#audioDownloadPlayUrl").live("click",function(){window.open(this.href,"_blank","location\x3dyes, height\x3d281, width\x3d416, scrollbars\x3dno, status\x3dno");return false});$(".nrCntSgAdo").live("click",function(){$(this).children("audio")[0].play()});
$("#contHyBtnTAE, #contHyBtnTAPlE, #contHyBtnTADlE, #contHyBtnTAC, #contHyBtnTAPlC, #contHyBtnTADlC, #contHyBtnTAKr, #contHyBtnTAPlKr, #contHyBtnTADlKr").live("click",function(){const audioSrcObj=window.html5AudioJs.getAudioSrcObj(this);if(audioSrcObj.err){alert(audioSrcObj.err);return}let audioSrc=audioSrcObj.audioSrc;if(audioSrc.length>0){const $audioSource=audioSrcObj.$audioSourceElement;const $audioDownloadUrl=audioSrcObj.audioDownloadUrl;if($audioSource.length){$audioSource.attr("src",audioSrc+
"\x26ext\x3dmp3");$(this).children("audio")[0].load();$(this).children("audio")[0].play()}else if($audioDownloadUrl.length){var ua=navigator.userAgent.toLowerCase();if(ua.indexOf("safari")!=-1&&ua.indexOf("chrome")==-1)audioSrc+="\x26ext\x3dmp3";window.open(audioSrc,"_blank","location\x3dyes, height\x3d281, width\x3d416, scrollbars\x3dno, status\x3dno");return false}}});function isOverLimit(audioText,maxLimit){return audioText&&maxLimit&&audioText.length>maxLimit}function validateAudioText(audioText,
langPair){var target=audioText;target=target.replace(/^([ \u3000\t\r\n]+)?(.+?)([ \u3000\t\r\n]+)?$/g,"$2");target=target.replace(/\r\n/g,"");target=target.replace(/\n/g,"");if(target.length==0)if(langPair==="CJ"||langPair==="JC")return"\u4e2d\u56fd\u8a9e(\u7c21\u4f53\u5b57\u3001\u7e41\u4f53\u5b57)\u306e\u539f\u6587\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044";else if(langPair==="KJ"||langPair==="JK")return"\u97d3\u56fd\u8a9e(\u30cf\u30f3\u30b0\u30eb)\u306e\u539f\u6587\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044";
else{if(langPair==="EJ"||langPair==="JE")return"\u82f1\u8a9e\u306e\u539f\u6587\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"}else if((langPair==="CJ"||langPair==="JC")&&!target.match(/[a-z\uff41-\uff5a0-9\uff10-\uff19\u4E00-\u9FFF]/i))return"\u97f3\u58f0\u518d\u751f\u6a5f\u80fd\u306f\u3001\u82f1\u6570\u5b57\u3001\u6f22\u5b57(\u7c21\u4f53\u5b57\u3001\u7e41\u4f53\u5b57)\u306e\u307f\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059";else if((langPair==="KJ"||langPair==="JK")&&!target.match(/[a-z\uff41-\uff5a0-9\uff10-\uff19\uAC00-\uD7AF]/i))return"\u97f3\u58f0\u518d\u751f\u6a5f\u80fd\u306f\u3001\u82f1\u6570\u5b57\u3001\u97d3\u56fd\u8a9e(\u30cf\u30f3\u30b0\u30eb)\u306e\u307f\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059";
else if((langPair==="EJ"||langPair==="JE")&&!target.match(/[a-z\uff41-\uff5a0-9\uff10-\uff19]/i))return"\u97f3\u58f0\u518d\u751f\u6a5f\u80fd\u306f\u3001\u82f1\u6570\u5b57\u306e\u307f\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059";return""}function getAudioSrc(audioSrcBase,audioText,langPair,audioTextAreaId){var audioSrc=audioSrcBase.split("?")[0];if(audioSrc.length>0){var speed=$("#sndspd option:selected").val();var element=$("#"+audioTextAreaId)[0];if(!element.clickCount)element.clickCount=0;element.clickCount++;
audioSrc+="?query\x3d"+CommonUtils.encodeURL(audioText);audioSrc+=!speed?"":"\x26speed\x3d"+speed;audioSrc+="\x26ar\x3d"+$("#traSpA").val();audioSrc+="\x26c\x3d"+element.clickCount;audioSrc+="\x26lp\x3d"+langPair;return audioSrc}return""}window.html5AudioJs={getAudioSrcObj:clickedBtn=>{const langPair=$(clickedBtn).find(':hidden[name\x3d"languagePairFin"]').val();const audioTextAreaId=$(clickedBtn).find(':hidden[name\x3d"audioTextAreaId"]').val();let audioText=$("#"+audioTextAreaId).val();const errorMessage=
validateAudioText(audioText,langPair);if(errorMessage)return{err:errorMessage};var maxLimit=$(clickedBtn).find(':hidden[name\x3d"maxLimit"]').val();if(isOverLimit(audioText,maxLimit)){if(langPair==="EJ"||langPair==="JE")return{err:maxLimit+"\u6587\u5b57\u3092\u8d85\u3048\u3066\u3044\u308b\u305f\u3081\u518d\u751f\u3067\u304d\u307e\u305b\u3093\u3002"};audioText=audioText.substring(0,maxLimit)}var audioSrcBase="";var $audioSource=$(clickedBtn).find("audio source");var $audioDownloadUrl=$(clickedBtn).find(':hidden[name\x3d"audioDownloadUrl"]');
if($audioSource.length)audioSrcBase=$audioSource.attr("src");else if($audioDownloadUrl.length)audioSrcBase=$audioDownloadUrl.val();return{$audioSourceElement:$audioSource,audioDownloadUrl:$audioDownloadUrl,audioSrc:getAudioSrc(audioSrcBase,audioText,langPair,audioTextAreaId)}}}})})(jQuery,window);